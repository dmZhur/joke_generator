(this["webpackJsonpjoke-generator"]=this["webpackJsonpjoke-generator"]||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(26),c=n.n(a),r=n(32),i=n(42),s=n(17),j=n(188),l=n(182),d=n(190),u=n(189),b=n(95),h=n.n(b),O=n(187),f=n(186),v=n(177),p=n(65),x=n(183),m=n(2),k=["pathTo","text"],g=Object(v.a)((function(){return{root:{display:"inline-block",margin:"10px 0px"}}}),{name:"NavigationButton"}),y=function(e){var t=e.pathTo,n=e.text,o=Object(p.a)(e,k),a=g();return Object(m.jsx)(i.b,{to:t,className:a.root,children:Object(m.jsx)(x.a,Object(r.a)(Object(r.a)({},o),{},{children:n}))})},w=Object(v.a)((function(){return{root:{maxWidth:1024,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}}}),{name:"MainWrapper"}),T=function(e){var t=e.children,n=w();return Object(m.jsx)(f.a,{className:n.root,children:t})},C=n(47),F=n(21),N=n(15),I=n(40),E=n(52),_=Object(C.b)("jokes/fetch",Object(E.a)(Object(I.a)().mark((function e(){var t,n;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/search?query=dev",{method:"GET"});case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),B=Object(C.b)("joke/fetch",Object(E.a)(Object(I.a)().mark((function e(){var t,n;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/random",{method:"GET"});case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),G=Object(C.c)({name:"jokes",initialState:{jokes:[],favorites:[]},reducers:{addToFavorites:function(e,t){e.favorites=[].concat(Object(N.a)(e.favorites||[]),[t.payload.joke])},removeFromFavorites:function(e,t){var n=e.favorites.filter((function(e){return e.id!==t.payload.joke.id}));e.favorites=Object(N.a)(n)}},extraReducers:function(e){e.addCase(_.fulfilled,(function(e,t){var n,o=null===(n=t.payload.result)||void 0===n?void 0:n.sort((function(){return.5-Math.random()}));e.jokes=null!==o&&void 0!==o&&o.length?o.slice(0,10):[]})),e.addCase(B.fulfilled,(function(e,t){var n;if(e.jokes&&(null===(n=e.jokes)||void 0===n?void 0:n.length)>9){var o=Object(N.a)(e.jokes||[]);return null===o||void 0===o||o.splice(-1,1),void(e.jokes=[t.payload].concat(Object(N.a)(o)))}e.jokes=[t.payload].concat(Object(N.a)(e.jokes||[]))}))}}),J=(G.reducer,G.actions),S=J.addToFavorites,L=J.removeFromFavorites,M=n(80),A=n(91),P=n.n(A),W=n(53),q=n(54),D=Object(F.b)({jokes:G.reducer}),H={key:"root",storage:P.a},R=Object(M.a)(H,D),z=Object(C.a)({reducer:R,devTools:!1,middleware:[W.a]}),K=Object(M.b)(z),Q=q.b,U=q.c,V=Object(v.a)((function(){return{wrap:{width:"100%"},list:{"&:nth-of-type(odd)":{backgroundColor:"#ebebeb",borderTop:"1px solid #767676",borderBottom:"1px solid #767676"}},nav:{width:"100%","& a":{float:"right"}}}}),{name:"FavoritesJokeList"}),X=Object(s.f)((function(){var e,t=V(),n=Q(),o=U((function(e){return e.jokes}));return Object(m.jsxs)(T,{children:[Object(m.jsx)(O.a,{variant:"h3",children:"Favorites jokes list"}),Object(m.jsx)(f.a,{className:t.nav,children:Object(m.jsx)(y,{pathTo:"/joke_generator",text:"Go to the home page",variant:"contained"})}),Object(m.jsx)(j.a,{className:t.wrap,children:null===(e=o.favorites)||void 0===e?void 0:e.map((function(e,o){return Object(m.jsx)(l.a,{className:t.list,secondaryAction:Object(m.jsx)(u.a,{"data-testid":"icon-button",onClick:function(){n(L({joke:e}))},children:Object(m.jsx)(h.a,{})}),children:Object(m.jsx)(d.a,{primary:e.value})},"".concat(e.id).concat(o))}))})]})})),Y=n(13),Z=n(96),$=n.n(Z),ee=n(97),te=n.n(ee),ne=n(180),oe=n(181),ae=n(178),ce=n(185),re=n(191),ie=["open","onClose","contentText","buttonText"],se=function(e){var t=e.open,n=e.onClose,o=e.contentText,a=e.buttonText,c=Object(p.a)(e,ie),i=function(){n(!1)};return Object(m.jsxs)(ae.a,Object(r.a)(Object(r.a)({},c),{},{onClose:i,open:t,children:[Object(m.jsx)(ce.a,{children:Object(m.jsx)(O.a,{variant:"h6",children:o})}),Object(m.jsx)(re.a,{children:Object(m.jsx)(x.a,{onClick:i,variant:"outlined",children:a||"Okey"})})]}))},je=n.p+"static/media/chucknorris_logo.cabd9b85.png",le="The limit on the number of items in the favorites list has been reached.\n    To add a new item, remove the element from the favorites list.",de=Object(v.a)((function(){return{wrap:{width:"100%"},list:{"&:nth-of-type(odd)":{backgroundColor:"#ebebeb",borderTop:"1px solid #767676",borderBottom:"1px solid #767676"}},controls:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},logo:{height:"219px"}}}),{name:"JokeList"}),ue=[{path:"/joke_generator",name:"Home Page",component:Object(s.f)((function(){var e,t,n=de(),a=Q(),c=U((function(e){return e.jokes})),r=null===(e=c.favorites)||void 0===e?void 0:e.map((function(e){return e.id})),i=Object(o.useState)(!1),s=Object(Y.a)(i,2),b=s[0],h=s[1],O=Object(o.useState)(!1),v=Object(Y.a)(O,2),p=v[0],x=v[1];return Object(o.useEffect)((function(){var e=setInterval(Object(E.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(B());case 1:case"end":return e.stop()}}),e)}))),5e3);return b||clearInterval(e),function(){clearInterval(e)}}),[b,a]),Object(o.useEffect)((function(){var e;null!==(e=c.jokes)&&void 0!==e&&e.length||a(_())}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(T,{children:[Object(m.jsx)(f.a,{className:n.logo,children:Object(m.jsx)("img",{src:je,alt:"Logo"})}),Object(m.jsxs)(f.a,{className:n.controls,children:[Object(m.jsx)(oe.a,{control:Object(m.jsx)(ne.a,{checked:b,onChange:function(){h(!b)}}),label:"Fetch a new joke every 5 seconds"}),Object(m.jsx)(y,{pathTo:"/joke_generator/favorites",text:"Go to favorites",variant:"contained"})]}),Object(m.jsx)(j.a,{className:n.wrap,children:null===(t=c.jokes)||void 0===t?void 0:t.map((function(e){return Object(m.jsx)(l.a,{className:n.list,secondaryAction:Object(m.jsx)(u.a,{"data-testid":"icon-button",onClick:function(){return r.includes(e.id)?void a(L({joke:e})):function(e){var t;(null===(t=c.favorites)||void 0===t?void 0:t.length)>9?x(!0):a(S({joke:e}))}(e)},children:r.includes(e.id)?Object(m.jsx)($.a,{}):Object(m.jsx)(te.a,{})}),children:Object(m.jsx)(d.a,{primary:e.value})},e.id)}))})]}),Object(m.jsx)(se,{open:p,onClose:x,contentText:le})]})})),exact:!0},{path:"/joke_generator/favorites",name:"Favorite Page",component:X,exact:!0}],be=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(i.a,{children:Object(m.jsx)(s.c,{children:ue.map((function(e,t){return Object(m.jsx)(s.a,{path:e.path,exact:e.exact,render:function(t){return Object(m.jsx)(e.component,Object(r.a)(Object(r.a)({name:e.name},t),e.props))}},t)}))})})})},he=n(98),Oe=document.getElementById("root");c.a.render(Object(m.jsx)(o.StrictMode,{children:Object(m.jsx)(q.a,{store:z,children:Object(m.jsx)(he.a,{loading:null,persistor:K,children:Object(m.jsx)(be,{})})})}),Oe)}},[[126,1,2]]]);
//# sourceMappingURL=main.64eb6bf3.chunk.js.map